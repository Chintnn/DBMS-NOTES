# üìå **PL/SQL Database Objects**  

PL/SQL (Procedural Language/Structured Query Language) extends SQL with procedural features, allowing developers to write **functions, stored procedures, and triggers**. These database objects help in performing **specific tasks efficiently** by executing logically grouped SQL and PL/SQL statements.  

---

## üõ†Ô∏è **Functions, Stored Procedures & Database Triggers**  

A **stored procedure** or **function** in PL/SQL is a **logically grouped set of SQL and PL/SQL statements** that perform a **specific task**. These objects are **compiled and stored** in **one of the Oracle engine‚Äôs system tables**.  

### üîπ **Components of Procedures and Functions**  
1. **Declarative Part** ‚Äì Used for defining variables, constants, and cursors.  
2. **Executable Part** ‚Äì Contains the main logic (SQL queries and PL/SQL statements).  
3. **Exception Handling Part** *(Optional)* ‚Äì Handles runtime errors.  

---

## üéØ **Advantages of Procedures & Functions**  

‚úÖ **Security** ‚Äì Enforces data security by controlling access to the database.  
‚úÖ **Performance** ‚Äì Reduces network traffic by executing logic within the database.  
‚úÖ **Memory Efficiency** ‚Äì Uses shared memory to reduce memory consumption.  
‚úÖ **Productivity** ‚Äì Avoids redundant coding by reusing stored procedures and functions.  
‚úÖ **Integrity** ‚Äì Ensures consistent and accurate results after one-time testing.  

---

# üìå **Creating a Function in PL/SQL**  

### üîπ **Syntax for Creating a Function**  
```sql
CREATE OR REPLACE FUNCTION function_name 
(argument data_type) 
RETURN return_data_type AS 
  variable_declaration;
BEGIN 
  -- PL/SQL subprogram logic 
  EXCEPTION 
  -- Exception handling logic 
END;
```

### üìù **Example: Binary Conversion Function**  
```sql
CREATE OR REPLACE FUNCTION binary_conversion (no NUMBER)
RETURN VARCHAR AS  
  a VARCHAR(10);  
  b VARCHAR(10);  
  c NUMBER(6);  
BEGIN  
  c := no;  
  WHILE c >= 1 LOOP  
    a := MOD(c, 2);  
    c := TRUNC(c / 2);  
    b := a || b;  
  END LOOP;  
  RETURN b;  
END;
```
**Usage:**  
```sql
SELECT binary_conversion(15) FROM dual;
```
‚úîÔ∏è Converts a **decimal number** to **binary**.

---

# üìå **Creating a Stored Procedure in PL/SQL**  

### üîπ **Syntax for Creating a Stored Procedure**  
```sql
CREATE OR REPLACE PROCEDURE procedure_name (
  argument {IN | OUT | IN OUT} data_type
) AS  
  variable_declaration;  
BEGIN  
  -- PL/SQL subprogram logic  
  EXCEPTION  
  -- Exception handling logic  
END;
```

### üîπ **Parameter Modes in Stored Procedures**  
- **IN** ‚Üí Accepts a value from the user.  
- **OUT** ‚Üí Returns a value to the user.  
- **IN OUT** ‚Üí Can both accept and return values.  

### üìù **Example: Stored Procedure for Employee Details**  
```sql
CREATE OR REPLACE PROCEDURE my_first_proc (
  p_name IN VARCHAR2 DEFAULT 'Lewis',
  p_address IN VARCHAR2 DEFAULT '123 Mockingbird Ln',
  p_an_in_out_parameter IN OUT NUMBER,
  p_an_out_parameter OUT DATE
) AS  
  v_a_variable VARCHAR2(30);  
BEGIN  
  IF p_name IS NOT NULL THEN  
    DBMS_OUTPUT.PUT_LINE(p_name || ': ' || p_address);  
  END IF;  
  v_a_variable := p_an_in_out_parameter;  
  p_an_in_out_parameter := v_a_variable;  
  p_an_out_parameter := SYSDATE;  
END;
```
‚úîÔ∏è This procedure prints the employee‚Äôs name and address while also modifying values.

### üîπ **Calling the Stored Procedure**  
```sql
DECLARE
  v_employee VARCHAR2(30) := 'BillyBob';
  v_number NUMBER := 22;
  v_date DATE;
BEGIN
  my_first_proc(
    p_name => v_employee,
    p_an_in_out_parameter => v_number,
    p_an_out_parameter => v_date
  );
  DBMS_OUTPUT.PUT_LINE(v_employee || ', ' || TO_CHAR(v_number) || ', ' || TO_CHAR(v_date));
END;
```
‚úîÔ∏è This PL/SQL block **calls the procedure** and **displays output**.

---

# üìå **Procedures vs. Functions in PL/SQL**  

| Feature         | Function | Stored Procedure |
|---------------|----------|----------------|
| **Return Value** | Must return a value | Not mandatory |
| **Multiple Outputs** | Returns only one value | Can return multiple values using `OUT` parameters |
| **Usage in SQL** | Can be used in SQL queries (`SELECT function_name(args) FROM dual;`) | Cannot be used directly in SQL queries |
| **Exception Handling** | Supports exception handling | Supports exception handling |
| **Call Syntax** | `SELECT function_name(args) FROM dual;` | `CALL procedure_name(args);` |

---

# üéØ **Summary & Key Exam Points**  

‚úÖ **PL/SQL database objects include functions, stored procedures, and triggers.**  
‚úÖ **Stored procedures and functions** are precompiled and stored in the Oracle database.  
‚úÖ **Functions** must **return a value**, whereas **procedures** do not require a return value.  
‚úÖ **Advantages** include **security, performance, memory efficiency, productivity, and integrity**.  
‚úÖ **Function Syntax:**  
```sql
CREATE OR REPLACE FUNCTION function_name(args) RETURN data_type AS BEGIN ... END;
```
‚úÖ **Procedure Syntax:**  
```sql
CREATE OR REPLACE PROCEDURE procedure_name(args) AS BEGIN ... END;
```
‚úÖ **Function Example:** `binary_conversion(15) ‚Üí Returns '1111'`  
‚úÖ **Procedure Example:** `CALL my_first_proc(args);`  
